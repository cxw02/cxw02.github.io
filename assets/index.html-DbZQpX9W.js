import{_ as i,c as a,e,o as n}from"./app-DTeoQ-wB.js";const l={};function t(r,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<p>本文介绍用 Docker 搭建文件快传 - P2P文件传输工具-file-transfer-go 安全、快速、简单的点对点文件传输解决方案 - 无需注册，即传即用</p><p><code>file-transfer-go</code>是一个 文件快传 - P2P文件传输工具 安全、快速、简单的传输服务 基于WebRTC的端到端服务 - 无需注册，即传即用</p><p><a href="https://github.com/MatrixSeven/file-transfer-go" target="_blank" rel="noopener noreferrer">项目地址</a></p><div align="center"><p><img src="https://img.shields.io/badge/React-18-blue.svg" alt="React" loading="lazy"><img src="https://img.shields.io/badge/Next.js-15-black.svg" alt="Next.js" loading="lazy"><img src="https://img.shields.io/badge/TypeScript-5-blue.svg" alt="TypeScript" loading="lazy"><img src="https://img.shields.io/badge/Go-1.22-blue.svg" alt="Go" loading="lazy"><img src="https://img.shields.io/badge/WebRTC-green.svg" alt="WebRTC" loading="lazy"><img src="https://img.shields.io/badge/Tailwind CSS-3.4-blue.svg" alt="Tailwind CSS" loading="lazy"></p></div><ul><li>📁 <strong>文件传输</strong> - 支持多文件同时传输</li><li>📝 <strong>文字传输</strong> - 快速分享文本内容</li><li>🖥️ <strong>桌面共享</strong> - 实时屏幕共享</li><li>🔗 <strong>连接状态同步</strong> - 实时连接状态UI同步</li><li>🔒 <strong>端到端加密</strong> - 数据传输安全，服务器不存储文件</li><li>📱 <strong>响应式设计</strong> - 完美适配手机、平板、电脑</li><li>🖥️ <strong>多平台支持</strong> - 支持linux/macos/win 单文件部署</li></ul><h2 id="📦-docker-一键部署" tabindex="-1"><a class="header-anchor" href="#📦-docker-一键部署"><span>📦 Docker 一键部署</span></a></h2><ul><li>加载本地镜像</li></ul><div class="language-cmd line-numbers-mode" data-highlighter="shiki" data-ext="cmd" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;"><pre class="shiki shiki-themes github-light github-dark vp-code"><code class="language-cmd"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker load </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">transfer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">go_1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.0.6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>docker cli 命令行安装</p><div class="language-cmd line-numbers-mode" data-highlighter="shiki" data-ext="cmd" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;"><pre class="shiki shiki-themes github-light github-dark vp-code"><code class="language-cmd"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">docker run </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d ^</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">transfer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">go ^</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ^</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">restart unless</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stopped ^</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">transfer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">go:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="部署配置说明" tabindex="-1"><a class="header-anchor" href="#部署配置说明"><span>部署配置说明</span></a></h3><h4 id="环境变量配置" tabindex="-1"><a class="header-anchor" href="#环境变量配置"><span>环境变量配置</span></a></h4><ul><li><code>NODE_ENV</code>: 运行环境（development/production）</li><li><code>PORT</code>: 服务端口（默认8080）</li><li><code>GO_BACKEND_URL</code>: 后端服务地址</li></ul><h4 id="docker-配置选项" tabindex="-1"><a class="header-anchor" href="#docker-配置选项"><span>Docker 配置选项</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;"><pre class="shiki shiki-themes github-light github-dark vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># docker-compose.yml 可配置项</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NODE_ENV=production</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PORT=8080</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;8080:8080&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">unless-stopped</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="🎯-使用方法" tabindex="-1"><a class="header-anchor" href="#🎯-使用方法"><span>🎯 使用方法</span></a></h2><h3 id="发送文件" tabindex="-1"><a class="header-anchor" href="#发送文件"><span>发送文件</span></a></h3><ol><li>选择文件 → 生成取件码 → 分享6位码</li></ol><h3 id="文字传输" tabindex="-1"><a class="header-anchor" href="#文字传输"><span>文字传输</span></a></h3><ol><li>输入文字内容 → 生成取件码 → 分享给对方</li></ol><h3 id="桌面共享" tabindex="-1"><a class="header-anchor" href="#桌面共享"><span>桌面共享</span></a></h3><ol><li>点击共享桌面 → 生成取件码 → 对方输入码观看</li></ol><h2 id="📊-项目架构" tabindex="-1"><a class="header-anchor" href="#📊-项目架构"><span>📊 项目架构</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;"><pre class="shiki shiki-themes github-light github-dark vp-code"><code class="language-"><span class="line"><span>发送方 &lt;─── WebSocket信令 ───&gt; 服务器 &lt;─── WebSocket信令 ───&gt; 接收方</span></span>
<span class="line"><span>  │                                                          │</span></span>
<span class="line"><span>  └────────────── WebRTC P2P直连传输 ─────────────────────────┘</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="🚀-技术栈" tabindex="-1"><a class="header-anchor" href="#🚀-技术栈"><span>🚀 技术栈</span></a></h2><h3 id="前端技术栈" tabindex="-1"><a class="header-anchor" href="#前端技术栈"><span>前端技术栈</span></a></h3><ul><li><strong>Next.js 15</strong> - React全栈框架，支持SSR/SSG</li><li><strong>React 18</strong> - 现代化UI组件库</li><li><strong>TypeScript 5</strong> - 类型安全的JavaScript超集</li><li><strong>Tailwind CSS 3.4</strong> - 实用优先的CSS框架</li><li><strong>Radix UI</strong> - 无障碍访问的组件库</li><li><strong>Zustand</strong> - 轻量级状态管理</li><li><strong>Lucide React</strong> - 现代化图标库</li></ul><h3 id="后端技术栈" tabindex="-1"><a class="header-anchor" href="#后端技术栈"><span>后端技术栈</span></a></h3><ul><li><strong>Go 1.22</strong> - 高性能编程语言</li><li><strong>WebSocket</strong> - 实时双向通信</li><li><strong>内存存储</strong> - 轻量级数据存储</li><li><strong>标准库</strong> - 原生HTTP服务器</li></ul><h3 id="传输协议" tabindex="-1"><a class="header-anchor" href="#传输协议"><span>传输协议</span></a></h3><ul><li><strong>WebRTC DataChannel</strong> - 端到端数据传输</li><li><strong>P2P直连</strong> - 点对点连接，无需中转</li><li><strong>ICE框架</strong> - 网络连接协商</li><li><strong>STUN/TURN</strong> - NAT穿透支持</li></ul><h3 id="架构特点" tabindex="-1"><a class="header-anchor" href="#架构特点"><span>架构特点</span></a></h3><ul><li><strong>微服务架构</strong> - 前后端分离</li><li><strong>实时通信</strong> - WebSocket + WebRTC</li><li><strong>响应式设计</strong> - 移动端适配</li><li><strong>容器化</strong> - Docker部署支持</li></ul><h2 id="🔄-最近更新日志" tabindex="-1"><a class="header-anchor" href="#🔄-最近更新日志"><span>🔄 最近更新日志</span></a></h2><h3 id="_2025-09-1" tabindex="-1"><a class="header-anchor" href="#_2025-09-1"><span>2025-09--1</span></a></h3><ul><li>✅ <strong>移动端桌面全屏</strong> - 优化移动端下UI，并解决全屏问题</li></ul><h3 id="_2025-08-28" tabindex="-1"><a class="header-anchor" href="#_2025-08-28"><span>2025-08-28</span></a></h3><ul><li>✅ <strong>完善Docker部署支持</strong> - 优化Docker配置，支持一键部署和多环境配置</li><li>✅ <strong>优化README文档</strong> - 更新项目说明，完善部署指南和技术栈信息</li><li>✅ <strong>改进UI用户体验</strong> - 优化界面细节，完善错误提示和加载状态</li><li>✅ <strong>重构Hooks架构</strong> - 拆分复杂hooks，提高代码复用性和可维护性</li></ul><h3 id="_2025-08-24" tabindex="-1"><a class="header-anchor" href="#_2025-08-24"><span>2025-08-24</span></a></h3><ul><li>✅ <strong>文件传输 ACK 确认支持</strong> - 实现了可靠的数据传输机制，每个数据块都需要接收方确认</li><li>✅ <strong>修复组件渲染后重复注册/解绑 bug</strong> - 解决了 React 组件重复渲染导致的处理器反复注册问题</li><li>✅ <strong>修复进度显示 Infinity% 问题</strong> - 解决了除零错误和进度闪烁问题</li></ul><h3 id="_2025-08-14" tabindex="-1"><a class="header-anchor" href="#_2025-08-14"><span>2025-08-14</span></a></h3><ul><li>✅ <strong>分离UI组件，统一UI状态</strong> - 重构UI架构，提高代码复用性和可维护性</li><li>✅ <strong>共享底层链接</strong> - 优化WebRTC连接管理，支持多个业务模块共享连接</li><li>✅ <strong>远程桌面支持</strong> - 新增实时屏幕共享功能</li><li>✅ <strong>修复 WebRTC 连接状态异常</strong> - 增强了连接状态错误处理和恢复能力</li></ul>`,42)])])}const d=i(l,[["render",t]]),g=JSON.parse('{"path":"/article/d9n338ax/","title":"P2P文件快传以及屏幕共享工具-file-transfer-go","lang":"zh-CN","frontmatter":{"title":"P2P文件快传以及屏幕共享工具-file-transfer-go","createTime":"2025/09/02 14:40:51","permalink":"/article/d9n338ax/","tags":["docker","文件传输"],"cover":"/img/file-transfer-go/cover.jpg","sticky":false,"draft":false},"readingTime":{"minutes":3.25,"words":976},"git":{},"filePathRelative":"blog/docker/P2P文件快传以及屏幕共享工具-file-transfer-go.md","headers":[],"categoryList":[{"id":"05b605","sort":10000,"name":"docker"}],"bulletin":false}');export{d as comp,g as data};
